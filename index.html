
<!DOCTYPE html>
<html >
<head>
<meta charset='utf-8' name="viewport" content="width=device-width, initial-scale=1.0" />
<link href='assests/css/fullcalendar.css' rel='stylesheet' />
<link href='assests/css/fullcalendar.min.print.css' rel='stylesheet' media='print' />
<link href="assests/css/style.css" rel="stylesheet" type="text/css">
<link href="assests/css/teststyle.css" rel="stylesheet" type="text/css">
<link href='assests/css/scheduler.css' rel='stylesheet' />
<link href="assests/css/addTask.css" rel="stylesheet" type="text/css">
<link href="assests/css/empForm1.min.css" rel="stylesheet" type="text/css">
<script src='assests/js/moment.min.js'></script>
<script src='assests/js/jquery.min.js'></script>
<script src='assests/js/fullcalendar.min.js'></script>
<script src='assests/js/scheduler.min.js'></script>
<script src='assests/js/addEmp.js'></script>
<script src="assests/js/addTask.js"></script>
<script src="assests/js/editEmp.js"></script>
<script src="assests/js/removeEmp.js"></script>
<script src="assests/js/removeTaskTime.js"></script>
<script src="assests/js/removeTask.js"></script>
<script src="assests/js/javascript.js"></script>
<script src="assests/js/side-dropdown.js"></script>
<title img src="assests/images/healthplanservicelogo.jpg">Task Scheduler</title>
<link rel="shortcut icon" href="assests\images\favicon.ico" />


<style>

  body {
    margin: 0;
    padding: 0;
    font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
    font-size: 14px;
  }

  #calendar {
    max-width: 900px;
    margin: 50px auto;
  }
  </style>

<style>
#mydiv,
#mydiv1,
#mydiv2,
#mydiv3,
#mydiv4 {
    position: absolute;
}
#mydivheader {
    padding: 10px;
    cursor: move;
    z-index: 10;
}

#fixplace {
  position: absolute;
}
* {
	box-sizing: border-box;
}
body {
	margin: 0;
	paddin: 0;
	-webkit-font-smoothing: antialiased;
  	-moz-osx-font-smoothing: grayscale;
}
.header {
	/* position: absolute; */
	width: 100%;
	z-index: 3;
	height: 44px;
	background-color: #177cab;
	border-bottom: 3px solid #000000;
}
/* logo in header(mobile version) and side-nav (tablet & desktop) */
.header .logo {
	color: #233245;
}
.header .logo {
	float: left;
}
.header .logo {
	height: 44px;
	z-index: 1;
	padding: 5.5px;
	font-weight: 700;
	color: #fff;
}
.logo  i {
	font-size: 22px;
}
.logo span {
	margin-left: 5px;
	text-transform: uppercase;
}
.nav-trigger {
	position: relative;
	float: right;
	width: 20px;
	height: 44px;
	right: 30px;
	display: block;
}
.nav-trigger span, .nav-trigger span:before, span:after {
	width: 20px;
	height: 2px;
	background-color: #fff;
	position: absolute;
}
.nav-trigger span {
	top: 45%;
}
.nav-trigger span:before, .nav-trigger span:after {
	content: '';
}
.nav-trigger span:before {
	top: -6px;
}
.nav-trigger span:after {
	top: 6px;
}
/* side navigation styles */
.side-nav {
	position: absolute;
	width: 100%;
	height: 100vh;
	background-color: #35475e;
	z-index: 1;
	display: none;
}
.side-nav.visible {
	display: block;
}
.side-nav ul {
	margin: 0;
	padding: 0;
}
.side-nav ul li {
	padding: 16px 16px;
	border-bottom: 1px solid #3c506a;
	position: relative;
}
.side-nav ul li.active:before {
	content: '';
	position: absolute;
	width: 4px;
	height: 100%;
	top: 0;
	left: 0;
	background-color: #fff;
}
.side-nav ul li a {
	color: #fff;
	display: block;
	text-decoration: none;
}
.side-nav ul li i {
	color: #0497df;
	min-width: 20px;
	text-align: center;
}
.side-nav ul li span:nth-child(2) {
	margin-left: 10px;
	font-size: 14px;
	font-weight: 600;
}
/* main content styles */
.main-content {
	padding: 40px;
	margin-top: 0;
	padding: 0;
	padding-top: 44px;
	height: 100%;
	overflow: scroll;
}
.main-content .title {
	background-color: #eef1f7;
	border-bottom: 1px solid #b8bec9;
	padding: 10px 20px;
	font-weight: 700;
	color: #333;
	font-size: 18px;
}
/* set element styles to fit tablet and higher(desktop) */
@media screen and (min-width: 1350px) {
	.header {
		background-color: #9e2787;
		z-index: 1;
	}
	.header .logo {
		display: none;
	}
	.nav-trigger {
		display: none;
	}
	.nav-trigger span, .nav-trigger span:before, span:after {
		background-color: #fff;
	}
	.side-nav {
		display: block;
		width: 70px;
		z-index: 2;
	}
	.side-nav ul li span:nth-child(2) {
		display: none;
	}
	.side-nav .logo i {
		padding-left: 12px;
	}
	.side-nav .logo span {
		display: none;
	}
	.side-nav ul li i {
		font-size: 26px;
	}
	.side-nav ul li a {
		text-align: center;
	}
	.main-content {
		margin-left: 70px;
	}
}
/* set element styles for desktop */
@media screen and (min-width: 850px) {
	.side-nav {
		width: 200px;
	}
	.side-nav ul li span:nth-child(2) {
		display: inline-block;
	}
	.side-nav ul li i {
		font-size: 16px;
	}
	.side-nav ul li a {
		text-align: left;
	}
	.side-nav .logo i {
		padding-left: 0;
	}
	.side-nav .logo span {
		display: inline-block;
	}
	.main-content {
		margin-left: 200px;
	}

}
.logo-nav img {
    width: 30px;
}



</style>

</head>
<body >

  <div class="header">
   <div class="logo">
     <span class="logo-nav" role="link" tabindex="0"><img src="assests\images\healthplanservicelogo.jpg"></span>
     <span>Event Scheduler</span>
   </div>
   <a href="#" class="nav-trigger"><span></span></a>
 </div>
  <div id='calendar' ></div>
    <div id="navBarContainer" class="side-nav">
      <nav class="navBar">
        <span class="logo" role="link" tabindex="0"><img src="assests/images/healthplanservicelogo.jpg"></span>
        <div class="group">
          <div class="navItem">
            <span class="navItemLink" onclick="document.getElementById('addEmployee').style.display='inline-block'" role="link" tabindex="0">Add Employee</span>
          </div>
          <div class="navItem">
            <span class="navItemLink" onclick="document.getElementById('addTask').style.display='inline-block'" role="link" tabindex="0">Add Task</span>
          </div>
          <div class="navItem">
            <span class="navItemLink" onclick="document.getElementById('removeTask').style.display='inline-block'" role="link" tabindex="0">Remove Task</span>
          </div>
          <div class="navItem">
            <span class="navItemLink" onclick="document.getElementById('editEmp').style.display='inline-block'" role="link" tabindex="0">Edit Employee</span>
          </div>
          <div class="navItem">
            <span class="navItemLink" onclick="document.getElementById('removeEmp').style.display='inline-block'" role="link" tabindex="0">Remove Employee</span>
          </div>

        </div>
      </nav>
    </div>

<div class="modal" id="addEmployee" >
	<!--form addEmployee-->
	<div id="task-messages">
		<form accept-charset="UTF-8" class="modal-content animate" id="" method="post" name="empForm" onsubmit="return create_employee(this);">
			<div class="container">
				<div class="#" style="margin-top:40px;">
					<div id= "mydiv" class="panel panel-default" style="top:40px; left:500;">
						<div id= "mydivheader" class="panel-heading">
							<div class="panel-title">
								<strong>Add Employee</strong>
								<div class="pull-right">
									<div style="margin-top: -6px"></div>
								</div>
							</div>
						</div>
						<div class="panel-body" style="padding-top:25px">
							<div class="labelinputclass" id="labelinputc">
								<div class="row">
									<div class="marginlsi">
										<label for="empName">Employee Name:</label> <input class="form-control" name="empName" required="" type="text">
									</div>
								</div>
								<div class="row">
									<div class="marginlsi">
										<label for="empId">Employee Tag:</label>
										<input list="empTag" class="form-control" name="empId" required="" type="text">
											<datalist name="empId" id="empTag">
												<option value="Java"></option>
												<option value=".Net"></option>
												<option value="JavaScript"></option>
												<option value="Python"></option>
											</datalist>
									</div>
								</div>
								<div class="row">
									<div class="marginlsi">
										<label for="empId">Employee Color:</label> <input class="form-control" name="empColor" required="" type="color">
									</div>
								</div>
							</div><br>
							<div id="buttonget">
								<div style="float: left;">
									<button class="btn btn-success" id="submitbtn" type="submit">Submit</button>
								</div>
								<div style="float: right;">
									<button class="btn btn-danger" onclick="document.getElementById('addEmployee').style.display='none'" type="button">Cancel</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>

	<div class="modal" id="addTask">
<!--form addTask-->
            <div id="task-messages">
              <form accept-charset="UTF-8" class="modal-content animate" id="taskForm" method="post" name="taskForm" onsubmit="return submit_json(this);">
                <div class="container">
                  <div class="#" style="margin-top:30px;">
                    <div id= "mydiv1" class="panel panel-default" style="top:40px; left:500;">
          						<div id= "mydivheader" class="panel-heading">
                        <div class="panel-title">
                          <strong>Add Task</strong>
                          <div class="pull-right">
                            <div style="margin-top: -6px"></div>
                          </div>
                        </div>
                      </div>
                      <div class="panel-body" style="padding-top:15px">
                        <div class="labelinputclass" id="labelinputc">
                          <div class="row">
                            <div class="marginlsi">
                              <label for="emplName">Employee:</label> <select class="form-control" id="empDropDown" name="emplName">
                              </select>
                            </div>
                          </div>
                          <div class="row">
                            <div class="marginlsi">
                              <label for="tskname">Task Name:</label> <input class="form-control" name="tskname" required="" type="text">
                            </div>
                          </div>
                          <div class="datefields">
                            <div class="field-wrap1">
                              <div class="row">
                                <div class="" style="float: left;">
                                  <label for="=tskstart">Start Date:</label> <input class="form-control" name="tskstart" required="" type="date">
                                </div>
                              </div>
                              <div class="row">
                                <div class="" style="float: right;">
                                  <label for="tskend">End Date:</label> <input class="form-control" name="tskend" required="" type="date">
                                </div>
                              </div>
                            </div>
                          </div>
                        </div><br>
                        <div id="buttonget">
                          <div style="float: left;">
                            <button class="btn btn-success" id="submitbtn" type="submit">Submit</button>
                          </div>
                          <div style="float: right;">
                            <button class="btn btn-danger" onclick="document.getElementById('addTask').style.display='none'" type="button">Cancel</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <script>
                   empArry = [];


                   for (var i = 0; i < localStorage.length; i++){
                       empArry.push(localStorage.key(i))
                   }

                   for(let j = 0; j < empArry.length; j++){
                     employee = JSON.parse(localStorage.getItem(empArry[j]));

                     $("#empDropDown").append("<option >"+ employee["Employee Name"] +"</option>");
                   }
                </script>
              </form>
            </div>
          </div>

          <div class="modal" id="removeTask">
							<!--remove task-->
							<div id="task-messages">
								<form accept-charset="UTF-8" class="modal-content animate" id="" method="post" name="removeTask" onsubmit="return remove_task(this);">
									<div class="container">
										<div class="#" style="margin-top:40px;">
                      <div id= "mydiv2" class="panel panel-default" style="top:40px; left:500;">
                        <div id= "mydivheader" class="panel-heading">
													<div class="panel-title">
														<strong>Remove Task</strong>
														<div class="pull-right">
															<div style="margin-top: -6px"></div>
														</div>
													</div>
												</div>
												<div class="panel-body" style="padding-top:25px">
													<div class="labelinputclass" id="labelinputc">
														<div class="row">
															<div class="marginlsi">
																<label for="empName">Employee:</label> <select class="form-control" id="removeDropDown" name="emplName" onchange="populate()">
																</select>
															</div>
														</div>
														<div class="row">
															<div class="marginlsi">
																<label for="empId">Employee task:</label> <select class="form-control" id="taskDropDown" name="emplName">
																</select>
															</div>
														</div>
													</div><br>
													<div id="buttonget">
														<div style="float: left;">
															<button class="btn btn-success" id="submitbtn" type="submit">Submit</button>
														</div>
														<div style="float: right;">
															<button class="btn btn-danger" onclick="document.getElementById('removeTask').style.display='none'" type="button">Cancel</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<script>


		                   empArry.length = 0;
                       // push the local storage to an array
		                   for (let i = 0; i < localStorage.length; i++){
		                       empArry.push(localStorage.key(i))
		                   }
                       // loop through all the employees that were pushed to an array in the localStorage
		                   for(let y = 0; y < empArry.length; y++){
												  employee = JSON.parse(localStorage.getItem(empArry[y]));
                      // if employee has a task add task to the task dropdown
		                   if('Task' in employee && employee.Task[y] != undefined ){
                         // Loop through the employees task and add them for the first employee in the list
                         for(let taskForEmp = 0; taskForEmp < employee.Task.length; taskForEmp++){
		                     $('#taskDropDown').append("<option >" + employee.Task[taskForEmp]["Task Name"] + "</option>");
                         }
                         break;
                       }
		               }
                      // loop though the empArray and add the employees name to the employee dropdown
		                   for(j = 0; j < empArry.length; j++){
		                     employee = JSON.parse(localStorage.getItem(empArry[j]));
		                     if('Task' in employee && employee.Task.length != 0 ){
		                       $("#removeDropDown").append("<option >"+ employee["Employee Name"] +"</option>");
		                     }
		               }
		               function populate(){
		                   $(taskDropDown).empty();
		                   for(let k = 0; k < employee.Task.length; k++){
		                   employee = localStorage.getItem(document.getElementById("removeDropDown").value);
		                   employee = JSON.parse(employee);
		                   if('Task' in employee && employee.Task[k] != undefined ){
		                     $('#taskDropDown').append("<option >" + employee.Task[k]["Task Name"] + "</option>");
		                 }
		                 }
		               }
									</script>
								</form>
							</div>
						</div><!-- end of remove task div-->

						<div class="modal" id="removeEmp">
							<!--remove emp-->
							<div id="task-messages">
								<form accept-charset="UTF-8" class="modal-content animate" id="" method="post" name="removeEmp" onsubmit="return remove_Emp(this);">
									<div class="container">
										<div class="#" style="margin-top:40px;">
                      <div id= "mydiv3" class="panel panel-default" style="top:40px; left:500;">
                        <div id= "mydivheader" class="panel-heading">
													<div class="panel-title">
														<strong>Remove Employee</strong>
														<div class="pull-right">
															<div style="margin-top: -6px"></div>
														</div>
													</div>
												</div>
												<div class="panel-body" style="padding-top:25px">
													<div class="labelinputclass" id="labelinputc">
														<div class="row">
															<div class="marginlsi">
																<label for="empName">Employee:</label> <select class="form-control" id="removeEmpDropDown" name="emplName">
																</select>
															</div>
														</div>
													</div><br>
													<div id="buttonget">
														<div style="float: left;">
															<button class="btn btn-success" id="submitbtn" type="submit">Submit</button>
														</div>
														<div style="float: right;">
															<button class="btn btn-danger" onclick="document.getElementById('removeEmp').style.display='none'" type="button">Cancel</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
							<script>
                     empArry = [];
                     for (i = 0; i < localStorage.length; i++){
                         empArry.push(localStorage.key(i))
                     }
                     for(j = 0; j < empArry.length; j++){
                       employee = JSON.parse(localStorage.getItem(empArry[j]));
                         $("#removeEmpDropDown").append("<option >"+ employee["Employee Name"] +"</option>");
                  }
									</script>
								</form>
							</div>
						</div><!--end of remove employee div -->

						<div class="modal" id="editEmp">
							<!--Edit employee-->
							<div id="task-messages">
								<form accept-charset="UTF-8" class="modal-content animate" id="" method="post" name="editEmp" onsubmit="return edit_Emp(this);">
									<div class="container">
										<div class="#" style="margin-top:40px;">
                      <div id= "mydiv4" class="panel panel-default" style="top:40px; left:500;">
                        <div id= "mydivheader" class="panel-heading">
													<div class="panel-title">
														<strong>Edit Employee</strong>
														<div class="pull-right">
															<div style="margin-top: -6px"></div>
														</div>
													</div>
												</div>
												<div class="panel-body" style="padding-top:25px">
													<div class="labelinputclass" id="labelinputc">
														<div class="row">
															<div class="marginlsi">
																<label for="empName">Employee:</label> <select class="form-control" id="editEmpDropDown" name="emplName" onchange="populateEdit()">
																</select>
															</div>
														</div>
                            <div class="row">
															<div class="marginlsi">
																<label for="editEmpName">Edit Employeee Name:</label> <input class="form-control" name="editEmpName" type="text">
															</div>
														</div>

														<div class="row">
															<div class="marginlsi">
																<label for="empId">Employee task:</label> <select class="form-control" id="editTaskDropDown" name="emplName">
																</select>
															</div>
														</div>
														<div class="row">
															<div class="marginlsi">
																<label for="tskname">Task Name:</label> <input class="form-control" name="tskname" type="text">
															</div>
														</div>
														<div class="datefields">
															<div class="field-wrap1">
																<div class="row">
																	<div class="" style="float: left;">
																		<label for="=tskstart">Edit Start Date:</label> <input class="form-control" name="tskstart"  type="date">
																	</div>
																</div>
																<div class="row">
																	<div class="" style="float: right;">
																		<label for="tskend">Edit End Date:</label> <input class="form-control" name="tskend" type="date">
																	</div>
																</div>
															</div>
														</div>
														<div class="row">
															<div class="marginlsi">
																<label for="empId" >Employee Color:</label> <input class="form-control" name="empColor"  type="color" value = "#0000ff" id = "empColor";>
															</div>
														</div>
													</div><br>
													<div id="buttonget">

														<div style="float: left;">
															<button class="btn btn-success" id="submitbtn" type="submit">Edit</button>
														</div>

														<div style="float: left;">
															<button class="btn btn-danger" onclick="document.getElementById('editEmp').style.display='none'" type="button">Cancel</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<script>
											 empArry.length = 0;
											 // push the local storage to an array
											 for (let i = 0; i < localStorage.length; i++){
													 empArry.push(localStorage.key(i))
											 }
											 // loop through all the employees that were pushed to an array in the localStorage
											 for(let y = 0; y <empArry.length; y++){
                          employee = JSON.parse(localStorage.getItem(empArry[y]));
											// if employee has a task add task to the task dropdown
											 if('Task' in employee && employee.Task.length != 0 ){
												 // Loop through the employees task and add them for the first employee in the list
												 for(let taskForEmp =0; taskForEmp < employee.Task.length; taskForEmp++){

                         // If employee is defined the add to the edit task dropdown
                         if(employee){
												 $('#editTaskDropDown').append("<option >" + employee.Task[taskForEmp]["Task Name"] + "</option>");
                       }
                         }
												 break;
											 }
									 }


											// loop though the empArray and add the employees name to the employee dropdown
											 for(j = 0; j < empArry.length; j++){
												 employee = JSON.parse(localStorage.getItem(empArry[j]));
													 $("#editEmpDropDown").append("<option >"+ employee["Employee Name"] +"</option>");
									 }
									 employee = JSON.parse(localStorage.getItem($('#editEmpDropDown').val()));
                   if(employee != null){
                   if("Employee Color" in employee ){
										$("#empColor").attr("value", employee["Employee Color"]);
                  }
                }
									 function populateEdit(){
										 employee = JSON.parse(localStorage.getItem($('#editEmpDropDown').val()));
											$("#empColor").attr("value", employee["Employee Color"]);
											$(editTaskDropDown).empty();
											for(let k = 0; k < employee.Task.length; k++){
											employee = localStorage.getItem(document.getElementById("editEmpDropDown").value);
											employee = JSON.parse(employee);
											if('Task' in employee && employee.Task[k] != undefined ){
												$('#editTaskDropDown').append("<option >" + employee.Task[k]["Task Name"] + "</option>");
										}
										}
									}


  $(function() { // document ready
    let today = new Date();
    let employeeName;
    let employee;
    let resource = [];
    let events = [];
    let i =0;
    let employeeTaskDate = [];
    let employeeTaskName = [];
    let taskName;
    let j =0;
    let k =0;
    let employeesNum = 0;
    let emp1;

    /* Get today's date */

    let dd = today.getDate();
    let mm = today.getMonth()+1; //January is 0!
    let mmN = mm;
    let yyyy = today.getFullYear();
    let nextWeek = (today.getDate()+10) + 10;
    if (nextWeek > 30 && (mmN == 9 || mmN == 4 || mmN == 6 || mmN == 11)) {
     mmN++;
     nextWeek -= 30;
    }
    else if (nextWeek > 31 && (mmN == 1 || mmN == 3 || mmN == 5 || mmN == 7 || mmN == 8 || mmN == 10 || mmN == 12)) {
     mmN++;
     nextWeek -= 31;
    }
    else if (nextWeek > 28 && mmN == 2) {
     mmN++;
     nextWeek -= 28;
    }
    /* Formatting of the dates at the top of the table */
    if(dd < 10) {
     dd = '0'+ dd;
    }
    if(nextWeek < 10) {
     nextWeek = '0' + nextWeek;
    }
    if(mmN < 10) {
       mmN = '0' + mmN
    }
    if(mm < 10) {
     mm = '0' + mm;
    }

    let startDate1  = yyyy.toString() +  mm.toString() + dd.toString();
    let startDate = parseInt(startDate1);
    let earliestTaskDate = startDate;

if( localStorage.length > 0) {
   	for (var key in localStorage) {

     	typeofKey = (typeof localStorage[key]);
     	if (typeofKey == 'string' || typeofKey instanceof String ){

       	emp1 = JSON.parse(localStorage.getItem(key));
       	if ("Task" in emp1) {

         	for (let i = 0; i < emp1.Task.length; i++) {

           	earliestTaskDate = parseInt(emp1.Task[i]['Task Start Date'].substr(0,4) + emp1.Task[i]['Task Start Date'].substr(5,2) + emp1.Task[i]['Task Start Date'].substr(8,2));
            if(earliestTaskDate < startDate) {

             	startDate = earliestTaskDate;
           	}
          }
         }
     	 }
   	 }
   }

    for (var key in localStorage) {
        typeofKey = (typeof localStorage[key]);
        //cols of the employee names
        if(typeofKey == 'string' || typeofKey instanceof String ){
          employee = JSON.parse(localStorage.getItem(key));
          employeeName = employee['Employee Name'] + " \n" + " (" + employee['Employee Id'] + ")";
          // rows and cols of the main table and date


          var rgb = employee["Employee Color"];
           var colr;
           if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(rgb)){
               colr= rgb.substring(1).split('');
               if(colr.length== 3){
                   colr= [colr[0], colr[0], colr[1], colr[1], colr[2], colr[2]];
               }
               colr= '0x'+colr.join('');
               var rgb =[(colr>>16)&255, (colr>>8)&255, colr&255].join(',')+',1'
             }
           bgroundColor = Math.round(((parseInt(rgb[0]) * 299) +
                       (parseInt(rgb[1]) * 587) +
                       (parseInt(rgb[2]) * 114)) / 2);

             var newTextColor = (bgroundColor > 125) ? 'black' : 'white';

        resource.push({"id": i,"title": employeeName, "eventColor" : employee["Employee Color"], textColor: newTextColor});
        //{ id: '1', resourceId: '0', start: employeeTaskDate[0], end: employeeTaskDate[1], title: employeeTaskName[0] },
      i++;

    if("Task" in employee){
        for(let taskIndex = 0; taskIndex < employee.Task.length; taskIndex++ ){

            employeeTaskName.push(employee.Task[taskIndex]["Task Name"]);
            employeeTaskDate.push(employee.Task[taskIndex]["Task Start Date"]);
            employeeTaskDate.push(employee.Task[taskIndex]["Task End Date"]);

              taskName = employeeTaskName[j];

            events.push({"id": employeesNum, "resourceId" : employeesNum, "start" : employeeTaskDate[k], "end": (employeeTaskDate[k + 1]) , "title" : taskName });
              //alert("j-" + j + " " + employeeTaskDate[k] + "  j + 1-" + (j+1) + " " + employeeTaskDate[j+1] );
                j++;
                k +=2;
        }
      }

      employeesNum++;

    }
      }
    $('#calendar').fullCalendar({

      //now: today,
      //editable: true, // enable draggable events
      aspectRatio: 1.5,
      //dragScroll: true,

      //scrollTime: '01:00', // undo default 6am scrollTime
      header: {
          left:   '',
          center: 'title',
          right:  '',
      },

      defaultView: 'customWeek',
      views: {
          customWeek: {

              type: 'timeline',
              duration: { weeks: 1 },
              slotDuration: {days: 1},
              duration : {days : 100},
          }
      },

      resourceLabelText: 'Employees',
      resources: resource,
      events: events,
    });


    $('#calendar').fullCalendar('gotoDate', startDate.toString());

  });


  dragElement(document.getElementById(("mydiv")));
   dragElement(document.getElementById(("mydiv1")));
   dragElement(document.getElementById(("mydiv2")));
   dragElement(document.getElementById(("mydiv3")));
   dragElement(document.getElementById(("mydiv4")));
   function dragElement(elmnt) {
   var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
   if (document.getElementById(elmnt.id + "header")) {
     /* if present, the header is where you move the DIV from:*/
     document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
   } else {
     /* otherwise, move the DIV from anywhere inside the DIV:*/
     elmnt.onmousedown = dragMouseDown;
   }
   function dragMouseDown(e) {
     e = e || window.event;
     // get the mouse cursor position at startup:
     pos3 = e.clientX;
     pos4 = e.clientY;
     document.onmouseup = closeDragElement;
     // call a function whenever the cursor moves:
     document.onmousemove = elementDrag;
   }
   function elementDrag(e) {
     e = e || window.event;
     // calculate the new cursor position:
     pos1 = pos3 - e.clientX;
     pos2 = pos4 - e.clientY;
     pos3 = e.clientX;
     pos4 = e.clientY;
     // set the element's new position:
     elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
     elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
   }
   function closeDragElement() {
       /* stop moving when mouse button is released:*/
       document.onmouseup = null;
       document.onmousemove = null;
     }
   }





</script>

</body>
</html>
